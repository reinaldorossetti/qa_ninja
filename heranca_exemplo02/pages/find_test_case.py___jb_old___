from helpers.page_base import PageBase

"""
Author: Reinaldo Mateus R J, Test version: 0.2
"""

class FindTestCase:

    find_menu = {
        'search_input':'css selector=form#searchTC input[name=\'targetTestCase\']',
        'search_img':'css selector=form#searchTC img[onclick*=\'searchTC\']',
        'search_result':'css selector=.workBack h2'
    }

    def find(self, driver, index):

        # Procura o elemento na tela via CSS Selector.
        elem_input_text = wait_(find_menu[search_input])
        elem_input_text.clear() # limpa o campo.
        elem_input_text.send_keys(index) # envia o valor para o campo.
        elem_search = wait_(find_menu[search_img])
        elem_search.click()

        return True

    def result_find(self, driver, index):

        driver.switch_to.parent_frame()
        driver.switch_to.frame('mainframe')

        # Procura o elemento na tela via CSS Selector.
        elem_img_find = wait(find_menu[search_result])
        print(elem_img_find.text)

        if index in elem_img_find.text:
            return "Passed"
        else:
            return "Fail"
